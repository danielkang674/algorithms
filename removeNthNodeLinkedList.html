<script>
  /**
   * Definition for singly-linked list.
   */
  function ListNode(val) {
    this.val = val;
    this.next = null;
  }
  function logList(node) {
    while (node) {
      console.log(node.val);
      node = node.next;
    }
  }
  var removeNthFromEnd = function (head, n) {
    let length = 0;
    let counter = 0;
    let nNode;
    let node = head;
    let prevNode = head;
    while (node) {
      length++;
      node = node.next;
    }
    nNode = length - (n - 1);
    node = head;
    if (n === length) {
      head = head.next;
      return head;
    }
    while (node) {
      counter++;
      if (nNode === counter) {
        prevNode.next = node.next;
      } else {
        prevNode = node;
        node = node.next;
      }
    }
    return head;
  };

  let first = new ListNode(1);
  let second = new ListNode(2);
  let third = new ListNode(3);
  let fourth = new ListNode(4);
  let fifth = new ListNode(5);

  first.next = second;
  second.next = third;
  third.next = fourth;
  fourth.next = fifth;

  logList(first);

  let list = removeNthFromEnd(first, 5);
  logList(list);
</script>